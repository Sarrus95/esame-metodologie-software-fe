<div class="exchange-container">
  <!-- Bottoni per selezionare la vista -->
  <div class="view-toggle">
    <button (click)="changeView('received')" [class.active]="viewMode === 'received'">Richieste Ricevute</button>
    <button (click)="changeView('sent')" [class.active]="viewMode === 'sent'">Richieste Inviate</button>
    <button (click)="changeView('history')" [class.active]="viewMode === 'history'">Storico Operazioni</button>
  </div>

  <!-- Sezione per le richieste ricevute -->
  <div *ngIf="viewMode === 'received'">
    <h2>Richieste Ricevute</h2>
    <ul class="request-list">
      <li *ngFor="let req of receivedRequests">
        <strong>{{ req.from }}</strong> ti ha proposto lo scambio di <em>{{ req.title }}</em> 
        <span class="status" [class]="req.status.toLowerCase()">{{ req.status }}</span>
      </li>
    </ul>
  </div>

  <hr>

  <!-- Sezione per le richieste inviate -->
  <div *ngIf="viewMode === 'sent'">
    <h2>Richieste Inviate</h2>
    <ul class="request-list">
      <li *ngFor="let req of sentRequests">
        Hai chiesto a <strong>{{ req.to }}</strong> lo scambio di <em>{{ req.title }}</em> 
        <span class="status" [class]="req.status.toLowerCase()">{{ req.status }}</span>
      </li>
    </ul>
  </div>

  <hr>

  <!-- Sezione per lo storico delle operazioni -->
  <div *ngIf="viewMode === 'history'">
    <h2>Storico delle Operazioni</h2>
    <ul class="request-list">
      <li *ngFor="let operation of history">
        <strong>{{ operation.user }}</strong> ha completato lo scambio di <em>{{ operation.title }}</em> 
        <span class="status" [class]="operation.status.toLowerCase()">{{ operation.status }}</span>
        <span class="date">{{ operation.date }}</span>
      </li>
    </ul>
  </div>
</div>
